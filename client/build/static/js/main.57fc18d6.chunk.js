(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{23:function(e,t,n){},37:function(e,t,n){},70:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n(10),i=n.n(c),s=(n(37),n(29)),u=n(4),o=n.n(u),l=n(6),h=n(3),f=n(2),d=n.n(f),j=(n(23),n(0)),m=function(e){var t=e.employees.map((function(e){var t=e.Shifts.filter((function(e){return"monday"===e.day&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),n=e.Shifts.filter((function(e){return"tuesday"===e.day&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),a=e.Shifts.filter((function(e){return"wednesday"===e.day&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),r=e.Shifts.filter((function(e){return"thursday"===e.day&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),c=e.Shifts.filter((function(e){return"friday"===e.day&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),i=t.length+n.length+a.length+r.length+c.length;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.employeeName}),Object(j.jsx)("td",{children:t.length}),Object(j.jsx)("td",{children:n.length}),Object(j.jsx)("td",{children:a.length}),Object(j.jsx)("td",{children:r.length}),Object(j.jsx)("td",{children:c.length}),Object(j.jsx)("td",{children:i})]},e.id)}));return Object(j.jsx)("div",{children:Object(j.jsx)("table",{className:"mt-2",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Staff Members"}),Object(j.jsx)("th",{children:"Monday"}),Object(j.jsx)("th",{children:"Tuesday"}),Object(j.jsx)("th",{children:"Wednesday"}),Object(j.jsx)("th",{children:"Thursday"}),Object(j.jsx)("th",{children:"Friday"}),Object(j.jsx)("th",{children:"Totals"})]}),t]})})})},b=n(30),p=n(31),O=n.n(p),x=n(32),N=n.n(x),y=(n(70),n(13)),g=Object(y.css)(a||(a=Object(b.a)(["\n  display: block;\n  margin: -200px auto 0 auto;\n"])));function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.isLoading,n=e.children;return Object(j.jsx)(O.a,{spinner:Object(j.jsx)(N.a,{size:150,css:g}),text:"Please wait...",active:t,children:n})}var S=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(h.a)(c,2),u=i[0],f=i[1],b=Object(r.useState)(""),p=Object(h.a)(b,2),O=p[0],x=p[1],N=Object(r.useState)(!1),y=Object(h.a)(N,2),g=y[0],S=y[1],w=Object(r.useState)(!1),L=Object(h.a)(w,2),k=L[0],C=L[1],A=Object(r.useState)(""),D=Object(h.a)(A,2),B=D[0],_=D[1],M=Object(r.useState)(""),P=Object(h.a)(M,2),U=P[0],W=P[1],E=Object(r.useState)(""),T=Object(h.a)(E,2),Y=T[0],F=T[1],J=Object(r.useState)(""),R=Object(h.a)(J,2),z=R[0],I=R[1],$=Object(r.useState)(null),q=Object(h.a)($,2),G=(q[0],q[1],Object(r.useState)(null)),H=Object(h.a)(G,2),K=(H[0],H[1],Object(r.useState)(null)),Q=Object(h.a)(K,2),V=(Q[0],Q[1],Object(r.useState)(null)),X=Object(h.a)(V,2),Z=(X[0],X[1],Object(r.useState)(null)),ee=Object(h.a)(Z,2),te=(ee[0],ee[1],Object(r.useState)(null)),ne=Object(h.a)(te,2),ae=(ne[0],ne[1],Object(r.useState)(null)),re=Object(h.a)(ae,2),ce=(re[0],re[1],Object(r.useState)(null)),ie=Object(h.a)(ce,2),se=(ie[0],ie[1],Object(r.useState)(null)),ue=Object(h.a)(se,2),oe=(ue[0],ue[1],Object(r.useState)(null)),le=Object(h.a)(oe,2);le[0],le[1];Object(r.useEffect)((function(){he(),de()}),[]);var he=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{je()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r,c,i,s,u,l,h,f,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={monday:null,tuesday:null,wednesday:null,thursday:null,friday:null},n=d.a.put("/shifts_list/1",t),a=d.a.put("/shifts_list/2",t),r=d.a.put("/shifts_list/3",t),c=d.a.put("/shifts_list/4",t),i=d.a.put("/shifts_list/5",t),s=d.a.put("/shifts_list/6",t),u=d.a.put("/shifts_list/7",t),l=d.a.put("/shifts_list/8",t),h=d.a.put("/shifts_list/9",t),f=d.a.put("/shifts_list/11",t),j=d.a.delete("/shifts/reset"),C(!0),e.next=15,d.a.all([n,a,r,c,i,s,u,l,h,f,j]).then(d.a.spread((function(){console.log("Evrything is empty!"),C(!1)}))).catch((function(e){console.log(e),C(!1)}));case 15:je(),de();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/employees/all");case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/shifts_list/all");case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Number(t.target.id),S(!g),x(Number(t.target.id)),_(n),W(a),g){e.next=9;break}return e.next=9,d.a.get("/shifts_list/one/".concat(a)).then((function(e){var t=Object.keys(e.data).filter((function(e){return e===n}))[0];I(e.data[t]);var a=e.data.shiftName;F(a)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={day:B,shiftName:Y},r=Object(s.a)({},B,n),n===z||null===z){e.next=5;break}return e.next=5,d.a.get("/employees/find/".concat(z)).then((function(e){return c=e.data.Shifts.filter((function(e){return e.day===B&&e.shiftName===Y}))[0].id})).catch((function(e){return console.log(e)}));case 5:return i=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/shifts/add/".concat(t),a).then(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/shifts_list/".concat(U),r).then((function(){je(),de(),S(!1),x(""),_(""),W("")}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,d.a.get("/employees/one/".concat(t)).then(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,s,u,l,h,f,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data.Shifts.filter((function(e){return("Lunch A"===e.shiftName||"Lunch B"===e.shiftName||"Lunch C"===e.shiftName||"Lunch D"===e.shiftName)&&e.day===B&&("Lunch A"===Y||"Lunch B"===Y||"Lunch C"===Y||"Lunch D"===Y)})),r=t.data.Shifts.filter((function(e){return e.day===B&&("Lunch A"!==e.shiftName||"Lunch B"!==e.shiftName||"Lunch C"!==e.shiftName||"Lunch D"!==e.shiftName)})),s=t.data.Shifts.filter((function(e){return""!==e.shiftName&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),u=t.data.Shifts.filter((function(e){return e.day===B&&""!==e.shiftName&&"Lunch A"!==e.shiftName&&"Lunch B"!==e.shiftName&&"Lunch C"!==e.shiftName&&"Lunch D"!==e.shiftName})),l=t.data.Shifts.filter((function(e){return""!==e.shiftName&&e.day===B})).filter((function(e){return"Morning Parking Lot"===e.shiftName&&("Morning Down Stairs"===Y||"Morning Up Stairs"===Y)||"Morning Down Stairs"===e.shiftName&&("Morning Parking Lot"===Y||"Morning Up Stairs"===Y)||"Morning Up Stairs"===e.shiftName&&("Morning Parking Lot"===Y||"Morning Down Stairs"===Y)})),h=t.data.Shifts.filter((function(e){return""!==e.shiftName&&e.day===B})).filter((function(e){return"Afternoon Parking Lot"===e.shiftName&&("Afternoon Down Stairs"===Y||"Afternoon Up Stairs"===Y)})),f=t.data.Shifts.filter((function(e){return""!==e.shiftName&&e.day===B})).filter((function(e){return"Afternoon Up Stairs"===e.shiftName&&("Afternoon Down Stairs"===Y||"Afternoon Parking Lot"===Y)})),j=t.data.Shifts.filter((function(e){return""!==e.shiftName&&e.day===B})).filter((function(e){return"Afternoon Down Stairs"===e.shiftName&&("Afternoon Parking Lot"===Y||"Afternoon Up Stairs"===Y)})),"Lunch A"!==Y&&"Lunch B"!==Y&&"Lunch C"!==Y&&"Lunch D"!==Y||0!==u.length){e.next=10;break}return e.abrupt("return",alert("You need to assign a shift to a staff member first and then Lunch"));case 10:if(!(l.length>0||h.length>0||f.length>0||j.length>0)){e.next=12;break}return e.abrupt("return",alert("Staff member cannot be in two places at once!"));case 12:if(!(r.length>2)){e.next=14;break}return e.abrupt("return",alert("Staff members cannot have more than two shifts per day!"));case 14:if(!(a.length>0)){e.next=16;break}return e.abrupt("return",alert("Staff member has already been assigned to have lunch on this day!"));case 16:if(7!==s.length){e.next=18;break}return e.abrupt("return",alert("You cannot assign more than 7 shifts to a staff member in a week!"));case 18:if(z===n||null===z){e.next=23;break}i(),d.a.delete("/shifts/delete/".concat(c)).then((function(e){return console.log(e)})),e.next=33;break;case 23:if(null!==z){e.next=27;break}i(),e.next=33;break;case 27:if(z!==n){e.next=33;break}return S(!1),x(""),_(""),W(""),e.abrupt("return");case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=u.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.shiftName}),Object(j.jsxs)("td",{children:[Object(j.jsx)("p",{className:"m-0 btn-primary",children:e.monday}),Object(j.jsx)("button",{className:"btn btn-info text-light",id:e.id,onClick:function(e){return me(e,"monday")},children:"Set Schedule"}),Object(j.jsx)("div",{className:"names-main-container",children:g&&O===e.id&&"monday"===B?Object(j.jsx)("div",{className:"names-container",children:n.map((function(e){return Object(j.jsx)("div",{className:"names-container-wrapper",children:Object(j.jsx)("button",{className:"btn-name",onClick:function(){return be(e.id,e.employeeName)},children:e.employeeName})},e.id)}))}):null})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("p",{className:"m-0 btn-primary",children:e.tuesday}),Object(j.jsx)("button",{className:"btn btn-info text-light",id:e.id,onClick:function(e){return me(e,"tuesday")},children:"Set Schedule"}),Object(j.jsx)("div",{className:"names-main-container",children:g&&O===e.id&&"tuesday"===B?Object(j.jsx)("div",{className:"names-container",children:n.map((function(e){return Object(j.jsx)("div",{className:"names-container-wrapper",children:Object(j.jsx)("button",{className:"btn-name",onClick:function(){return be(e.id,e.employeeName)},children:e.employeeName})},e.id)}))}):null})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("p",{className:"m-0 btn-primary",children:e.wednesday}),Object(j.jsx)("button",{className:"btn btn-info text-light",id:e.id,onClick:function(e){return me(e,"wednesday")},children:"Set Schedule"}),Object(j.jsx)("div",{className:"names-main-container",children:g&&O===e.id&&"wednesday"===B?Object(j.jsx)("div",{className:"names-container",children:n.map((function(e){return Object(j.jsx)("div",{className:"names-container-wrapper",children:Object(j.jsx)("button",{className:"btn-name",onClick:function(){return be(e.id,e.employeeName)},children:e.employeeName})},e.id)}))}):null})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("p",{className:"m-0 btn-primary",children:e.thursday}),Object(j.jsx)("button",{className:"btn btn-info text-light",id:e.id,onClick:function(e){return me(e,"thursday")},children:"Set Schedule"}),Object(j.jsx)("div",{className:"names-main-container",children:g&&O===e.id&&"thursday"===B?Object(j.jsx)("div",{className:"names-container",children:n.map((function(e){return Object(j.jsx)("div",{className:"names-container-wrapper",children:Object(j.jsx)("button",{className:"btn-name",onClick:function(){return be(e.id,e.employeeName)},children:e.employeeName})},e.id)}))}):null})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("p",{className:"m-0 btn-primary",children:e.friday}),Object(j.jsx)("button",{className:"btn btn-info text-light",id:e.id,onClick:function(e){return me(e,"friday")},children:"Set Schedule"}),Object(j.jsx)("div",{className:"names-main-container",children:g&&O===e.id&&"friday"===B?Object(j.jsx)("div",{className:"names-container",children:n.map((function(e){return Object(j.jsx)("div",{className:"names-container-wrapper",children:Object(j.jsx)("button",{className:"btn-name",onClick:function(){return be(e.id,e.employeeName)},children:e.employeeName})},e.id)}))}):null})]})]},e.id)}));return Object(j.jsx)(v,{isLoading:k,children:Object(j.jsxs)("div",{className:"waitList-admin-container",children:[Object(j.jsxs)("h4",{children:["Schedule by Alex Y. Sanabria"," ",Object(j.jsx)("button",{onClick:fe,className:"btn-danger",children:"Reset Schedule"})]}),Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Shift"}),Object(j.jsx)("th",{children:"Monday"}),Object(j.jsx)("th",{children:"Tuesday"}),Object(j.jsx)("th",{children:"Wednesday"}),Object(j.jsx)("th",{children:"Thursday"}),Object(j.jsx)("th",{children:"Friday"})]}),pe]})}),Object(j.jsx)(m,{employees:n})]})})},w=function(){return Object(j.jsx)("div",{className:"text-center mt-2",children:Object(j.jsx)(S,{})})},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(j.jsx)(w,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");L?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):k(e)}))}}()}},[[77,1,2]]]);
//# sourceMappingURL=main.57fc18d6.chunk.js.map